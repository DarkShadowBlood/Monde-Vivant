<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profil du Survivant</title>
    <link rel="stylesheet" href="gamification.css">
    <link rel="stylesheet" href="shared.css">
</head>
<style>
    /* Styles pour la modale de butin */
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none; /* Cach√© par d√©faut */
        justify-content: center;
        align-items: center;
        z-index: 2000;
    }
    .modal-content {
        background-color: var(--bg-light);
        padding: 30px;
        border-radius: 12px;
        border: 1px solid var(--border-color);
        text-align: center;
        max-width: 400px;
        box-shadow: 0 5px 20px rgba(0,0,0,0.5);
    }
    .modal-content h2 {
        margin-top: 0;
        color: var(--accent);
    }
    #loot-results {
        list-style: none;
        padding: 0;
        margin: 20px 0;
    }
    #loot-results li {
        font-size: 1.2em;
        margin-bottom: 10px;
    }
    .modal-content button {
        background-color: var(--accent);
        color: #fff;
        border: none;
        padding: 10px 20px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1em;
    }
    /* Styles pour la section Butin */
    .loot-section ul {
        list-style: none;
        padding: 0;
    }
    .loot-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: var(--bg-dark);
        padding: 10px 15px;
        border-radius: 8px;
        margin-bottom: 10px;
    }
    .quest-item.claimed {
        opacity: 0.6;
    }
    .quest-progress-bar {
        height: 8px; background-color: #111; border-radius: 4px; overflow: hidden; margin: 5px 0;
    }
    .quest-progress {
        height: 100%; background-color: var(--accent);
    }
    .progress-text {
        font-size: 0.8em; color: var(--text-secondary);
    }
    .gift-container {
        text-align: center;
        padding: 10px;
        background-color: var(--bg-dark);
        padding: 10px 15px;
        border-radius: 8px;
        margin-bottom: 10px;
    }
    .gift-container {
        text-align: center;
        padding: 10px;
        background-color: var(--accent-light);
        border-radius: 8px;
        margin: 15px 0;
        color: var(--text-main);
    }
</style>
<body>
    <div class="sheet-container">
        <div id="character-sheet" class="sheet">
            <div class="sheet-header">
                <h1 id="char-name">Chargement...</h1>
                <div class="level-badge">
                    <span id="char-rank">Novice</span>
                    <span>Niveau</span>
                    <span id="char-level">0</span>
                </div>
            </div>

            <div class="xp-bar-container">
                <div class="xp-label">
                    <span>XP</span>
                    <span id="xp-values">0 / 100</span>
                </div>
                <div class="xp-bar">
                    <div id="xp-progress" class="xp-progress" style="width: 0%;"></div>
                </div>
            </div>

            <div class="stats-container">
                <h2 class="section-title">Statistiques</h2>
                <ul id="stats-list">
                    <!-- Les stats seront inject√©es ici par JavaScript -->
                </ul>
            </div>

            <div class="currencies-container">
                <h2 class="section-title">Richesses</h2>
                <div class="currency-grid">
                    <div class="currency-item"><span>√âclats d'Acier</span><strong id="currency-shards">0</strong></div>
                    <div class="currency-item"><span>Gemmes d'√Çme</span><strong id="currency-gems">0</strong></div>
                </div>
            </div>

            <div id="passive-skill-container" class="skill-container" style="display: none;">
                <h2 class="section-title">Comp√©tence Passive</h2>
                <p><strong><span id="passive-skill-name"></span>:</strong> <span id="passive-skill-desc"></span></p>
            </div>

            <div class="loot-section">
                <h2 class="section-title">üé≤ Butin d'Activit√©</h2>
                <p>R√©cup√©rez les r√©compenses de vos derni√®res exp√©ditions !</p>
                <ul id="unclaimed-loot-list">
                    <!-- Les activit√©s avec butin non r√©clam√© seront inject√©es ici -->
                </ul>
            </div>

            <div class="quests-section">
                <h2 class="section-title">üìú Qu√™tes Journali√®res</h2>
                <div id="daily-quests-list">
                    <!-- Les qu√™tes journali√®res seront inject√©es ici -->
                    <p>Chargement des qu√™tes...</p>
                </div>
                <div id="quest-status" style="display: none; text-align: center; margin-top: 10px;"></div>
            </div>

            <div class="quests-section">
                <h2 class="section-title">üèÜ Qu√™tes Hebdomadaires</h2>
                <div id="weekly-quests-list">
                    <!-- Les qu√™tes hebdomadaires seront inject√©es ici -->
                    <p>Chargement des d√©fis de la semaine...</p>
                </div>
            </div>

            <div class="rules-container">
                <h2 class="section-title">R√®gles du Jeu</h2>
                <div class="rules-section">
                    <h3>Calcul de l'Exp√©rience (XP)</h3>
                    <p>L'XP est la somme de plusieurs sources :</p>
                    <ul>
                        <li><strong>Calories br√ªl√©es :</strong> 1 XP pour 10 kcal.</li>
                        <li><strong>Distance parcourue :</strong> 10 XP par km.</li>
                        <li><strong>Objectifs quotidiens :</strong> 5 XP par jour enregistr√©.</li>
                        <li><strong>Bonus de stats :</strong> La Force et l'Endurance augmentent l'XP gagn√©e.</li>
                        <li><strong>Bonus de comp√©tence passive :</strong> Chaque personnage a un bonus unique !</li>
                    </ul>
                </div>
                <div class="rules-section future-systems">
                    <h3>Syst√®mes √† venir</h3>
                    <div class="future-grid">
                        <div class="future-item" style="opacity: 0.5;">üéí Inventaire (Impl√©ment√©)</div>
                        <div class="future-item" style="opacity: 0.5;">üõ†Ô∏è Artisanat (Impl√©ment√©)</div>
                        <div class="future-item" style="opacity: 0.5;">üí∞ Marchand (Impl√©ment√©)</div>
                        <div class="future-item" style="opacity: 0.5;">üé≤ Butin d'activit√© (Impl√©ment√©)</div>
                    </div>
                </div>
            </div>
            
            <div id="gift-message-container" class="gift-container" style="display: none;">
                <p id="gift-message"></p>
            </div>

            <div class="character-selector">
                <button data-char="Varkis" class="active">Varkis</button>
                <button data-char="KaraOmbreChaos">KaraOmbreChaos</button>
                <button data-char="Aegis">Aegis</button>
            </div>
        </div>
    </div>

    <!-- Modale pour afficher le butin -->
    <div id="loot-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Butin R√©cup√©r√© !</h2>
            <ul id="loot-results">
                <!-- Les r√©sultats du butin seront inject√©s ici -->
            </ul>
            <button id="close-loot-modal">Fermer</button>
        </div>
    </div>

    <script src="gamification.js"></script>
    <!-- Script sp√©cifique √† cette page pour le butin -->
    <script src="loot_system.js"></script>
    <!-- Script sp√©cifique pour les qu√™tes journali√®res -->
    <script src="quests.js"></script>
</body>
</html>